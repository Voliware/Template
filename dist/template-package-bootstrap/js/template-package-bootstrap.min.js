"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function deepCopy(t,e,i){if(null===t||"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return t;if("function"==typeof t.clone)return t.clone(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);if(t.nodeType&&"function"==typeof t.cloneNode)return t.cloneNode(!0);void 0===e&&(e=[],i=[]);var r,s=e.length;for(r=0;r<s;r++)if(t===e[r])return i[r];if("[object Array]"==Object.prototype.toString.call(t)){var a=t.slice();for(e.push(t),i.push(a),r=a.length;r--;)a[r]=deepCopy(a[r],e,i);return a}var n=Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__;n||(n=t.constructor.prototype);var o=object_create(n);e.push(t),i.push(o);for(var l in t)o[l]=deepCopy(t[l],e,i);return o}var _get2=function t(e,i,r){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,i);if(void 0===s){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,r)}if("value"in s)return s.value;var n=s.get;if(void 0!==n)return n.call(r)},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){t.extendext=function(){var e,i,r,s,a,n,o=arguments[0]||{},l=1,u=arguments.length,c=!1,p="default";for("boolean"==typeof o&&(c=o,o=arguments[l++]||{}),"string"==typeof o&&(p=o.toLowerCase(),"concat"!==p&&"replace"!==p&&"extend"!==p&&(p="default"),o=arguments[l++]||{}),"object"===("undefined"==typeof o?"undefined":_typeof(o))||t.isFunction(o)||(o={}),l===u&&(o=this,l--);l<u;l++)if(null!==(e=arguments[l]))if(t.isArray(e)&&"default"!==p)switch(n=o&&t.isArray(o)?o:[],p){case"concat":o=n.concat(t.extend(c,[],e));break;case"replace":o=t.extend(c,[],e);break;case"extend":e.forEach(function(e,i){if("object"===("undefined"==typeof e?"undefined":_typeof(e))){var r=t.isArray(e)?[]:{};n[i]=t.extendext(c,p,n[i]||r,e)}else n.indexOf(e)===-1&&n.push(e)}),o=n}else for(i in e)r=o[i],s=e[i],o!==s&&(c&&s&&(t.isPlainObject(s)||(a=t.isArray(s)))?(a?(a=!1,n=r&&t.isArray(r)?r:[]):n=r&&t.isPlainObject(r)?r:{},o[i]=t.extendext(c,p,n,s)):void 0!==s&&(o[i]=s));return o}}(jQuery);var Util=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"each",value:function(t,e){for(var i in t){var r=t[i];e(i,r)}}}]),t}();"undefined"==typeof isDefined&&(window.isDefined=function(t){return"undefined"!=typeof t}),"undefined"==typeof isNull&&(window.isNull=function(t){return null===t}),"undefined"==typeof isNullOrUndefined&&(window.isNullOrUndefined=function(t){return null===t||"undefined"===t}),"undefined"==typeof isFunction&&(window.isFunction=function(t){return"function"==typeof t}),"undefined"==typeof isString&&(window.isString=function(t){return"string"==typeof t}),"undefined"==typeof isNumber&&(window.isNumber=function(t){return"number"==typeof t}),"undefined"==typeof isObject&&(window.isObject=function(t){return null!==t&&!isArray(t)&&"object"===("undefined"==typeof t?"undefined":_typeof(t))}),"undefined"==typeof isArray&&(window.isArray=function(t){return null!==t&&Array.isArray(t)}),"undefined"==typeof getType&&(window.getType=function(t){return null===t?"[object Null]":Object.prototype.toString.call(t)}),"undefined"==typeof createGuid&&(window.createGuid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}),"undefined"==typeof Array.diff&&(Array.diff=function(t,e){return t.filter(function(t){return e.indexOf(t)<0})}),"undefined"==typeof Array.min&&(Array.min=function(t){return Math.min.apply(Math,t)}),"undefined"==typeof Array.max&&(Array.max=function(t){return Math.max.apply(Math,t)}),"undefined"==typeof Object.set&&(Object.set=function(t,e){for(var i in e)t.hasOwnProperty(i)&&(t[i]=e[i])}),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});var object_create=Object.create;if("function"!=typeof object_create&&(object_create=function(t){function e(){}return e.prototype=t,new e}),!isDefined($))throw new ReferenceError("util-jquery requires jquery 2.2.2 or greater");"undefined"==typeof isJquery&&(window.isJquery=function(t){return t instanceof $}),function(t){t.fn.hasAttr=function(e){return t(this).is("["+e+"]")},t.fn.populate=function(e){function i(t,e,i){switch(t){case"input":s(e,i);break;case"select":case"textarea":n.val(i);break;case"img":n.attr("src",i);break;case"button":n.prop("disabled",0===i);break;default:n.html(i)}}function r(t){return $Util.populate[t]?$Util.populate[t]:n.hasAttr("data-tag")?$Util.populate[n.attr("data-tag")]:null}function s(t,e){switch(t){case"checkbox":var i=n.data("checked");e.toString()!==i&&"1"!==e.toString()&&e!==!0||n.prop("checked",!0);break;case"radio":var r=e.toString();n.filter('[value="'+r+'"]').prop("checked",!0);break;default:n.val(e)}}var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t(this);if(n.data("populate")===!1)return this;var o=n.prop("tagName").toLowerCase(),l=n.attr("type"),u=r(o);return u?u.call(this,e):i(o,l,e),n.data("update")===!1&&this.attr("data-populate",!1),a&&n.trigger("change").trigger("input"),this},t.fn.populateChildren=function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t(this);return t.each(e,function(t,e){var s=r.find('[name="'+t+'"]'),a=r.find('[data-name="'+t+'"]');s.length>0&&s.data("populate")!==!1&&s.populate(e,i),a.length>0&&a.data("populate")!==!1&&a.populate(e,i)}),this},t.fn.populateAttr=function(e){var i=t(this);return t.each(e,function(t,e){i.attr("i",e)}),this},t.fn.slideToggleState=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?t(this).slideDown(i,r):t(this).slideUp(i,r),this},t.fn.addToSelect=function(){function e(t){if(t.hasOwnProperty("value")===!1){var e=Object.keys(t)[0],i=t[e];return{value:e,text:i}}return t}var i=t(this);if(!i.is("select"))return this;var r=[];if(arguments.length>1)if(isString(arguments[0])||isNumber(arguments[0])){var s=!!isDefined(arguments[2])&&arguments[2],a={value:arguments[0],text:arguments[1],disabled:s};r=[a]}else isObject(arguments[0])&&(r=arguments);else Array.isArray(arguments[0])?r=arguments[0]:isObject(arguments[0])&&(arguments[0].hasOwnProperty("value")?r=[arguments[0]]:Object.keys(arguments[0]).length>1?t.each(arguments[0],function(t,e){isObject(e)?r.push(e):r.push({value:t,text:e})}):r=[arguments[0]]);for(var n=0;n<r.length;n++){var o=e(r[n]),l='<option value="'+o.value+'"';o.disabled&&(l+=" disabled"),l+=">"+o.text+"</option>",i.append(l)}return this},t.fn.toggleOption=function(){var e=t(this);if(!e.is("select"))return this;var i,r;if(arguments.length>1){r=arguments[0],t.isArray(r)||(r=[r]),i=arguments[1];for(var s=0;s<r.length;s++)e.find('option[value="'+r[s]+'"]').prop("disabled",!i)}else i=arguments[0],e.find("option").prop("disabled",!i);return this}}(jQuery);var $Util=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"jQuerify",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.$wrapper)throw new ReferenceError("$Util.jQuerify: $wrapper must be a property of the first argument");Util.each(t.jqueryPrototype,function(t,r){return!(!isDefined(e[r])||i)||("find"===r?(e[r]=function(){var t;return(t=e.$wrapper)[r].apply(t,arguments)},!0):void(e[r]=function(){var t;return(t=e.$wrapper)[r].apply(t,arguments),e}))})}},{key:"opts",value:function(t,e,i){return isDefined(i)?$.extendext(!0,i,t,e):$.extend(!0,t,e)}}]),t}();$Util.jqueryPrototype=Object.getOwnPropertyNames($.prototype),$Util.populate={};var EventSystem=function(){function t(){return _classCallCheck(this,t),this.events={},this}return _createClass(t,[{key:"_createEvent",value:function(t){return this.events[t]={callbacks:[]}}},{key:"_destroy",value:function(t){return isDefined(this.event[t])&&delete this.event[t],this}},{key:"on",value:function(t,e){var i=this.events[t];return isDefined(i)||(i=this._createEvent(t)),i.callbacks.push(e),this}},{key:"off",value:function(t,e){var i=this.events[t];if(isDefined(i)){var r=i.callbacks.indexOf(e);r>-1&&i.callbacks.splice(r,1)}return this}},{key:"offAll",value:function(t){var e=this.events[t];return isDefined(e)&&(e[t].callbacks=[]),this}},{key:"trigger",value:function(){var t=[].shift,e=t.apply(arguments),i=this.events[e];if(!isDefined(i))return this;for(var r=0;r<i.callbacks.length;r++){var s;(s=i.callbacks)[r].apply(s,arguments)}return this}},{key:"emit",value:function(){return this.trigger()}}]),t}();if(!isDefined(EventSystem))throw new ReferenceError("Manager requires EventSystem");var Manager=function(t){function e(t){var i;_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),s={identifier:"id",useObjectNames:!1,max:0};return r.settings=Object.assign(s,t),r.objects={},r.count=0,r._cachedData={},r._processedData={},r.serializedObjects=[],r.requiresNewSerialize=!1,i=r,_possibleConstructorReturn(r,i)}return _inherits(e,t),_createClass(e,[{key:"_exists",value:function(){var t=arguments[0];return isString(t)||isNumber(t)?isDefined(this.objects[t]):isDefined(this.objects[t[this.settings.identifier]])}},{key:"_get",value:function(){var t=arguments[0],e=null,i=this.settings.identifier;return isString(t)||isNumber(t)?(String(t),this.objects[t]&&(e=this.objects[t])):this.objects[t[i]]&&(e=this.objects[t[i]]),e}},{key:"_add",value:function(t,e){function i(){r.requiresNewSerialize=!0,r.trigger("add",t),r.count++,t._count=r.count}var r=this,s=this.settings.identifier;return isDefined(e)?(String(e),t[s]=e,this.objects[e]=t,i()):isNullOrUndefined(t[s])?console.warn("Manager._add: cannot add an object with no identifier"):(this.objects[t[s]]=t,i()),t}},{key:"_update",value:function(t,e){function i(){r.requiresNewSerialize=!0,r.trigger("update",t),r.count++,t._count=r.count}var r=this,s=this.settings.identifier;return isDefined(e)?(String(e),this.objects[e]=t,i()):isNullOrUndefined(t[s])?console.warn("Manager._update: cannot update an object with no identifier"):(this.objects[t[s]]=t,i()),t}},{key:"_delete",value:function(){var t=(arguments[0],null),e=this.settings.identifier;if(t=this._get.apply(this,arguments)){var i=t[e];this.trigger("delete",i),delete this.objects[i],this.requiresNewSerialize=!0,this.count>0&&this.count--}else console.error("Manager._delete: cannot delete an object with no identifier");return this}},{key:"_empty",value:function(){for(var t in this.objects)delete this.objects[t];return this}},{key:"_cacheData",value:function(t){return this._cachedData=deepCopy(t),this}},{key:"_processData",value:function(t){return this._processedData=deepCopy(t),this}},{key:"getIds",value:function(){var t=[];for(var e in this.objects){var i=this.getId(this.objects[e]);t.push(i)}return t}},{key:"getId",value:function(t){return t[this.settings.identifier].toString()}},{key:"manage",value:function(t){if(this._cacheData(t),this._processData(t),!isObject(this._processedData)&&this.settings.useObjectNames)throw new Error("Manager.manage: to use option useObjectNames, object passed to manage() must be an object.");var e=this,i=this.settings.identifier,r=[];for(var s in this._processedData){var a=this._processedData[s];if(this.settings.useObjectNames&&(a[i]=s),!isDefined(a[i]))return console.error("Manager.manage: cannot manage objects with no ids");var n=a[i].toString(),o=e.objects[n];isDefined(o)?e._update(a):e._add(a),r.push(n)}var l=this.getIds(),u=Array.diff(l,r);for(s=0;s<u.length;s++)this._delete(u[s]);return this}},{key:"exists",value:function(){return this._exists.apply(this,arguments)}},{key:"addObjects",value:function(){var t=arguments.length>1?[].slice.call(arguments).sort():arguments[0];for(var e in t){var i=t[e];this.addObject(i)}return this}},{key:"addObject",value:function(){return this._add.apply(this,arguments)}},{key:"getObject",value:function(){return this._get.apply(this,arguments)}},{key:"updateObject",value:function(){return this._update.apply(this,arguments)}},{key:"deleteObject",value:function(){return this._delete.apply(this,arguments)}},{key:"deleteObjects",value:function(){return this._empty()}},{key:"serializer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.requiresNewSerialize){var i=this;this.serializedObjects=[],$.each(this.objects,function(t,e){e.serializer&&i.serializedObjects.push(e.serializer())}),this.requiresNewSerialize=!1}return e=e>0?e:this.serializedObjects.length,this.serializedObjects.slice(t,e)}}]),e}(EventSystem),Template=function(){function t(e){_classCallCheck(this,t);var i={template:null,consumeTemplate:!1,useTemplate:!1,struct:{$wrapper:""}};return this.settings=$Util.opts(i,e),this._template(),this._cachedData={},this._processedData={},this}return _createClass(t,[{key:"_template",value:function(){return this.settings.template?this._useTemplate():this._useDefaultTemplate(),this.$wrapper.removeClass("template"),$Util.jQuerify(this),this}},{key:"_useTemplate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t=t||this.settings.template,isString(t))t=$(t);else if(t instanceof $)this.settings.useTemplate||(t=t.clone().removeAttr("id")),this.settings.consumeTemplate&&t.remove();else if(t instanceof $==!1)throw new ReferenceError("Template._useTemplate: first argument must be a string or jquery");var e=this;for(var i in this.settings.struct){var r=this.settings.struct[i];e[i]=t.find(r)}return this.$wrapper=$(t.get(0)),this}},{key:"_useDefaultTemplate",value:function(){return this}},{key:"_cacheData",value:function(t){return this._cachedData=$.extend(!0,{},t),this}},{key:"_processData",value:function(t){return this._processedData=$.extend(!0,{},t),this}},{key:"populateChildren",value:function(t){return this._cacheData(t),this._processData(t),this.$wrapper.populateChildren(this._processedData),this}}]),t}(),TemplateManager=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return r.$wrapper=i.$wrapper?i.$wrapper:$('<div class="manager"></div>'),$Util.jQuerify(r),r.template=isString(i.template)?$(i.template):i.template,r.templates=r.objects,r.current=null,t=r,_possibleConstructorReturn(r,t)}return _inherits(e,t),_createClass(e,[{key:"_add",value:function(){var t=_get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_add",this).apply(this,arguments);return this.$wrapper.append(arguments[0].$wrapper||arguments[0]),t}},{key:"_update",value:function(t){var e=this.getId(t),i=this.templates[e];return this._populateTemplate(i,t),this.trigger("update",i),this}},{key:"_delete",value:function(){var t=this._get.apply(this,arguments);return t?(t.remove(),_get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_delete",this).call(this,t)):console.error("TemplateManager._delete: could not find template object"),this}},{key:"_create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.template)throw new ReferenceError("TemplateManager._create: no template option was passed to constructor");var i;return this.template.prototype instanceof Template?i=new this.template(e):isJquery(this.template)&&(i=this.template.clone()),this._populateTemplate(i,e),this._add(i,t)}},{key:"_empty",value:function(){for(var t in this.objects)this.objects[t].remove(),delete this.objects[t];return this}},{key:"_populateTemplate",value:function(t,e){return t.populateChildren(e),this}},{key:"manage",value:function(t){return this.build(t)}},{key:"build",value:function(t){if(this._cacheData(t),this._processData(t),!isObject(this._processedData)&&this.settings.useObjectNames)throw new Error("TemplateManager.build: to use option useObjectNames, object passed to build() must be an object.");var e=this,i=this.settings.identifier,r=[];for(var s in this._processedData){var a=this._processedData[s];if(this.settings.useObjectNames&&(a[i]=s),!isDefined(a[i]))return console.error("TemplateManager.build: cannot manage objects with no ids");var n=a[i].toString(),o=e.objects[n];isDefined(o)?e._update(a):e._create(n,a),r.push(n)}var l=this.getIds(),u=Array.diff(l,r);for(s=0;s<u.length;s++)this._delete(u[s]);return this}},{key:"setCurrent",value:function(t){function e(){r.slideDown()}var i=this,r=this.templates[t];return isDefined(r)?isNull(this.current)?(e(),this.current=r):this.current.slideUp(function(){e(),i.current=r}):console.error("TemplateManager.setCurrent: object not found."),this}},{key:"createTemplate",value:function(){return this._create.apply(this,arguments)}},{key:"addTemplates",value:function(){return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addObjects",this).apply(this,arguments)}},{key:"addTemplate",value:function(){return this._add.apply(this,arguments)}},{key:"getTemplate",value:function(){return this._get.apply(this,arguments)}},{key:"updateTemplate",value:function(){return this._update.apply(this,arguments)}},{key:"deleteTemplate",value:function(){return this._delete.apply(this,arguments)}},{key:"deleteTemplates",value:function(){return this._empty()}}]),e}(Manager),Feedback=function(t){function e(t){var i;_classCallCheck(this,e);var r={closeButton:!0,struct:{$wrapper:".feedback",$text:".feedback-text",$icon:".feedback-icon",$close:'button[name="close"]'}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t))),a=s;return s.settings.closeButton&&s.$close.click(function(){a.slideUp()}),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="feedback"><div class="feedback-icon"></div><div class="feedback-text"></div>';return this.settings.closeButton&&(t+='<button name="close" type="button">X</button>'),t+="</div>",this._useTemplate($(t)),this.$wrapper.hide(),this}},{key:"_setClass",value:function(t){return this.removeClass(function(t,e){return(e.match(/(^|\s)feedback-\S+/g)||[]).join(" ")}),"feedback-".indexOf(t)===-1&&(t="feedback-"+t),this.addClass(t),this}},{key:"_animateFeedback",value:function(t,e,i){return this._setClass(t),this.$text.fadeOut(function(){$(this).html(e).fadeIn()}),i&&this.$icon.fadeOut(function(){$(this).html(i).fadeIn()}),this}},{key:"setFeedback",value:function(t,e,i){return this.is(":hidden")?(this._setClass(t),this.$text.html(e),i&&this.$icon.html(i),this.slideDown()):this._animateFeedback(t,e,i),this}}]),e}(Template),Col=function(t){function e(t){var i;_classCallCheck(this,e);var r={inlineEdit:!0,fieldOptions:{name:"input",type:"text",tag:"input"},struct:{$wrapper:"td"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t))),a=s;return s.value=0,s.isInEditMode=!1,s.settings.inlineEdit&&!a.isInEditMode&&s.$wrapper.click(function(){a.toggleInlineEdit(!0)}),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<td><span data-name="'+this.settings.fieldOptions.name+'"></span></td>';return this._useTemplate(t)}},{key:"setFieldOptions",value:function(t){return this.settings.fieldOptions.name=t.name,isDefined(t.type)&&(this.settings.fieldOptions.type=t.type),isDefined(t.tag)&&(this.settings.fieldOptions.tag=t.tag),this._useDefaultTemplate(),this}},{key:"toggleInlineEdit",value:function(t){return this.isInEditMode=t,t?(this.$wrapper.children().wrap('<div class="childWrap" style="display:none;"></div>'),this.createInlineField()):(this.$wrapper.find(this.settings.fieldOptions.tag).remove(),this.$wrapper.find(".childWrap").children().unwrap()),this}},{key:"createInlineField",value:function(){var t,e=this;switch(this.settings.fieldOptions.tag){case"select":t=new FormSelect(this.settings.fieldOptions);break;case"input":default:t=new FormInput(this.settings.fieldOptions)}return this.$wrapper.append(t.$wrapper),t.focus(),t.val(this.value),t.blur(function(){e.isInEditMode&&(e.trigger("edit",$(this).val()),e.toggleInlineEdit(!1))}),this}}]),e}(Template),Row=function(t){function e(t){var i;_classCallCheck(this,e);var r={colIdentifier:"name",struct:{$wrapper:"tr"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t))),a=s;return s.colManager=new TemplateManager({identifier:s.settings.colIdentifier,useObjectNames:s.settings.useObjectNames,$wrapper:s.$wrapper}).on("add",function(t){t.on("update",function(t,e){a.trigger("update",e)})}),s.$cols=[],s.$wrapper.find("td").each(function(t,e){a.$cols.push($(e))}),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t="<tr></tr>";return this._useTemplate(t)}},{key:"generateColumns",value:function(t){for(var e=0;e<t.length;e++){var i={fieldOptions:{name:t[e].name}},r=$.extend(!0,i,t[e]),s=new Col(r);this.colManager.addObject(s),this.$wrapper.append(s.$wrapper)}for(e=0;e<this.$cols.length;e++)this.$wrapper.append(this.$cols[e]);return this}}]),e}(Template),CrudRow=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$deleteButton:'[name="deleteButton"]',$updateButton:'[name="updateButton"]',$viewButton:'[name="viewButton"]'}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_attachDeleteButtonHandlers",value:function(){var t=this;return this.$deleteButton.click(function(){t._deleteButtonAction()}),this}},{key:"_deleteButtonAction",value:function(){throw new Error("CrudRow._deleteButtonAction: must be implemented in child class")}},{key:"_attachUpdateButtonHandlers",value:function(){var t=this;return this.$updateButton.click(function(){t._updateButtonAction()}),this}},{key:"_updateButtonAction",value:function(){throw new Error("CrudRow._updateButtonAction: must be implemented in child class")}},{key:"_attachViewButtonHandlers",value:function(){var t=this;return this.$viewButton.click(function(){t._viewButtonAction()}),this}},{key:"_viewButtonAction",value:function(){throw new Error("CrudRow._viewButtonAction: must be implemented in child class")}},{key:"initialize",value:function(){return this._attachDeleteButtonHandlers()._attachUpdateButtonHandlers()._attachViewButtonHandlers(),this}}]),e}(Row),Table=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:"table",$thead:"thead",$tbody:"tbody",$tfoot:"tfoot",$tr:"tbody > tr"},rowHeaders:[]},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.$rows=[],s.primaryKey="id",s.isFirstBuild=!0,s.$empty=$('<tr class="table-empty"><td>There is no data to display.</td></tr>'),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useTemplate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_useTemplate",this).call(this,t),this.$tr.remove(),this}},{key:"_useDefaultTemplate",value:function(){var t='<table class="table"><thead></thead><tbody><tr></tr></tbody><tfoot></tfoot></table>';this._useTemplate($(t)),this.settings.template=null;for(var e=this.settings.rowHeaders,i=$("<tr></tr>"),r=0;r<e.length;r++){var s=e[r]||"",a="<th>"+s+"</th>",n="<td></td>";this.$tr.append(n),i.append(a)}return this.$thead.append(i),this}},{key:"_cacheData",value:function(t){return isArray(t)?this._cachedData=t:this._cachedData=$.extend(!0,{},t),this}},{key:"_processData",value:function(t){var e=this;return isArray(t)?this._processedData=t:this._processedData=$.extend(!0,{},t),$.each(t,function(t,i){isObject(i)&&(e._processedData[t]._rowId_=t),e._processedData[t]=e._processRow(i)}),this}},{key:"_processRow",value:function(t){return t}},{key:"_render",value:function(t){var e=this;return!$.isEmptyObject(t)||Array.isArray(t)&&t.length?(this.toggleEmpty(!1),Util.each(t,function(t,i){e.addRow(i)}),this):this}},{key:"createRow",value:function(){return this.$tr.clone()}},{key:"appendRow",value:function(t){return t.appendTo(this.$tbody),this.$rows.push(t),this}},{key:"populateRow",value:function(t,e){var i=[];Util.each(e,function(t,e){i.push(e)});var r=t.find("td");return $.each(r,function(t,e){$(e).html(i[t])}),this}},{key:"addRow",value:function(t){var e=!isNull(this.settings.template),i=this.createRow();return e&&!Array.isArray(t)?i.populateChildren(t):this.populateRow(i,t),this.appendRow(i),isDefined(t._rowId_)||(t._rowId_=this.$rows.length),i.attr("data-rowid",t._rowId_),t[this.primaryKey]&&i.attr("data-pkeyid",t[this.primaryKey]),this}},{key:"_isEmptyTable",value:function(){return 0===this.$tbody.find("tr").length}},{key:"build",value:function(t){return this.wipe(),this._cacheData(t),this._processData(t),this.toggleEmpty(!1),this._render(this._processedData),this.isFirstBuild=!1,this}},{key:"wipe",value:function(){return this.$tbody.empty(),this.toggleEmpty(!0),this.$rows=[],this._cachedData={},this}},{key:"deleteRow",value:function(t){return this.$rows[t]&&(this.$rows[t].remove(),this.$rows[t]=null),this._cachedData[t]&&(Array.isArray(this._cacheData)?this._cachedData.splice(t,1):delete this._cachedData[t]),this._processedData[t]&&(Array.isArray(this._processedData)?this._processedData.splice(t,1):delete this._processedData[t]),this._isEmptyTable()&&this.toggleEmpty(),this}},{key:"toggleEmpty",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$thead.toggle(!t),this.$tfoot.toggle(!t),t?(this.$tbody.append(this.$empty),this.$empty.show()):this.$empty.remove(),this}}]),e}(Template),RenderTable=function(t){function e(t){var i;_classCallCheck(this,e);var r={identifier:"id",useObjectNames:!1,rowTemplate:null},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.rowManager=new TemplateManager({identifier:s.settings.identifier,useObjectNames:s.settings.useObjectNames,template:s.settings.rowTemplate||s.$tr,$wrapper:s.$tbody}),s.$wrapper.addClass("renderTable"),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"setIdentifier",value:function(t){return this.settings.identifier=t,this.rowManager.settings.identifier=t,this}},{key:"_render",value:function(t){var e=Array.isArray(t);if($.isEmptyObject(t)||!t||e&&!t.length)this.toggleEmpty(!0);else if(e&&!isObject(t[0]))throw new ReferenceError("RenderTable._render: data must be an object, or an array of objects");return this.rowManager.build(t),this}},{key:"setRowTemplate",value:function(t){return this.settings.rowTemplate=t,this.rowManager.settings.rowTemplate=t,this}},{key:"wipe",value:function(){return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"wipe",this).call(this),this.rowManager.deleteObjects(),this}},{key:"deleteRow",value:function(){var t;return(t=this.rowManager).deleteObject.apply(t,arguments),this._isEmptyTable()&&this.toggleEmpty(),this}}]),e}(Table),ControlTable=function(t){function e(t){var i;_classCallCheck(this,e);var r={buttons:{deleteButton:!0,viewButton:!0,updateButton:!0}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s._setupButtons(),s.$wrapper.addClass("controlTable"),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_setupButtons",value:function(){function t(t){var e=r.$tr.find('[data-name="'+t+'"]'),i=r.$tr.find('[name="'+t+'"]');return e.length||i.length}function e(){r.$thead.find("tr").append("<th></th>")}function i(t){r.$tr.append('<td data-name="'+t+'"></td>')}var r=this;$.each(this.settings.buttons,function(r,s){s&&!t(r)&&(e(),i(r))})}},{key:"_processRow",value:function(t){return this.settings.buttons.deleteButton&&this._addDeleteButton(t),this.settings.buttons.updateButton&&this._addUpdateButton(t),this.settings.buttons.viewButton&&this._addViewButton(t),t}},{key:"_addDeleteButton",value:function(t){return t.deleteButton=this._createDeleteButton(t),this}},{key:"_createDeleteButton",value:function(t){var e=this,i=$('<button type="button" title="Delete">Delete</button>');return i.click(function(){e.deleteRow(t)}),i}},{key:"_addUpdateButton",value:function(t){return t.updateButton=this._createUpdateButton(t),this}},{key:"_createUpdateButton",value:function(t){return $('<button type="button" title="Update">Update</button>')}},{key:"_addViewButton",value:function(t){return t.viewButton=this._createViewButton(t),this}},{key:"_createViewButton",value:function(t){return $('<button type="button" title="View">View</button>')}}]),e}(RenderTable),FormInput=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e);var s={struct:{$wrapper:".form-input"}},a=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(s,r)));return a.type="text",a.tag=r.tag||"input",a.disabled=!1,a.required=!1,a.name="input",a.maxlength=void 0,a.max=void 0,a.min=void 0,a.placeholder=null,a.step=void 0,a.value=null,a["class"]=void 0,a.set(i),t=a,_possibleConstructorReturn(a,t)}return _inherits(e,t),_createClass(e,[{key:"set",value:function(t){return Object.set(this,t),this._useDefaultTemplate(),this}},{key:"_useDefaultTemplate",value:function(){var t=$("<"+this.tag+' class="form-input"/>');return this._useTemplate(t),this}},{key:"_useTemplate",value:function(t){return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_useTemplate",this).call(this,t),this._setAttrs()._setProps()._setValue(),this}},{key:"_setAttrs",value:function(){return this.$wrapper.attr({maxlength:this.maxlength,max:this.max,min:this.min,name:this.name,placeholder:this.placeholder,step:this.step,type:this.type}),this["class"]&&this.$wrapper.addClass(this["class"]),this}},{key:"_setProps",value:function(){return this.$wrapper.prop("required",this.required),this.$wrapper.prop("disabled",this.disabled),this}},{key:"_setValue",value:function(){return null!==this.value&&this.$wrapper.populate(this.value),this}}]),e}(Template),FormSelect=function(t){function e(t,i){var r;_classCallCheck(this,e);var s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return s.tag="select",s.type=void 0,r=s,_possibleConstructorReturn(s,r)}return _inherits(e,t),_createClass(e,[{key:"_setAttrs",value:function(){return this.$wrapper.attr({name:this.name}),this}},{key:"addToSelect",value:function(){var t;return(t=this.$wrapper).addToSelect.apply(t,arguments),this}},{key:"selectOption",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.$wrapper.val(t),
e&&this.$wrapper.trigger("change"),this}}]),e}(FormInput),FormGroup=function(t){function e(t){var i;_classCallCheck(this,e);var r={formInput:FormInput,formSelect:FormSelect,struct:{$wrapper:".form-group",$label:"label",$inputWrapper:".form-input-wrapper",$input:"input"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.input=null,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="form-group"><label></label><div class="form-input-wrapper"></div></div>';return this._useTemplate(t),this}},{key:"createInput",value:function(t){switch(t.tag){case"input":this.input=new this.settings.formInput;break;case"select":this.input=new this.settings.formSelect;break;case"textarea":this.input=new this.settings.formInput({},{tag:"textarea"})}return this.input.set(t),this.setInput(this.input),"hidden"===this.input.type&&this.$wrapper.hide(),"select"===this.input.tag&&this.input.addToSelect(t.selectOptions),this}},{key:"setInput",value:function(t){return this.$input=t instanceof Template?t.$wrapper:t,this.$inputWrapper.html(this.$input),this}},{key:"setLabel",value:function(t){return this.$label.html(t),this}}]),e}(Template),FormGroupManager=function(t){function e(t){var i;_classCallCheck(this,e);var r={identifier:"label",template:FormGroup},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_populateTemplate",value:function(t,e){return t.createInput(e.input).setLabel(e.label),this}}]),e}(TemplateManager),FormSerializer=function(){function t(e){_classCallCheck(this,t);var i={checkboxMode:t.checkboxMode.number,serializeMode:t.serializeMode.toString,excluded:[":disabled"]};return this.settings=$Util.opts(i,e,"replace"),this}return _createClass(t,[{key:"_getElName",value:function(t){return"undefined"!=typeof t.attr("name")?t.attr("name"):"undefined"!=typeof t.data("name")?t.data("name"):(console.error("FormSerializer._getElName: field has no name or data-name attribute"),"")}},{key:"_convertCheckbox",value:function(e,i){var r=e.is(":checked");switch(i){case t.checkboxMode["boolean"]:return r;case t.checkboxMode.number:return r?1:0;case t.checkboxMode.string:return r?"1":"0";case t.checkboxMode.onOff:return r?"on":"off"}}},{key:"serialize",value:function(e){var i=this,r=new FormSerializerData,s={};switch(e.find("input, select, textarea").each(function(t,e){for(var r=$(e),a="",n=-1,o="",l="",u="",c=i.settings.excluded,p=0;p<c.length;p++)if(r.is(c[p]))return!0;if(r.data("serialize")===!1)return!0;if(l=r[0].nodeName.toLowerCase(),a=i._getElName(r),"undefined"==typeof a)return!0;if("undefined"!=typeof r.data("order")&&(n=r.data("order")),"input"===l){if(o=r.attr("type"),"undefined"==typeof o)return console.error("FormSerializer.serialize: input"+a+" must have a type");switch(o){case"checkbox":u=i._convertCheckbox(r,i.settings.checkboxMode);break;case"radio":if(!r.is(":checked"))return!0;u=r.val();break;case"file":var h=r.get(0).files;if(0===h.length)return!0;u=h[0];break;default:u=r.val()}}else"select"===l||"textarea"===l?u=r.val():console.error("FormSerializer.serialize: only inputs, textareas, and selects can be serialized");s[a]={val:u,order:n}}),r.set(s),this.settings.serializeMode){default:case t.serializeMode.toString:return r.toString();case t.serializeMode.toOrderedString:return r.toOrderedString();case t.serializeMode.toObject:return r.toObject();case t.serializeMode.toValue:return r.toValue()}}}]),t}();FormSerializer.checkboxMode={"boolean":0,number:1,string:2,onOff:3},FormSerializer.serializeMode={toString:0,toOrderedString:1,toObject:2,toValue:3};var FormSerializerData=function(){function t(e){return _classCallCheck(this,t),this.data=e||{},this}return _createClass(t,[{key:"set",value:function(t){return this.data=t,this}},{key:"toString",value:function(){var t="",e=0,i=Object.keys(this.data).length;return Util.each(this.data,function(r,s){t+=r+"="+s.val,e++<i-1&&(t+="&")}),t}},{key:"toOrderedString",value:function(){var t="",e=[],i=[];Util.each(this.data,function(t,r){var s={name:t,val:r.val};r.order>-1?e[r.order]=s:i.push(s)});for(var r=e.length,s=0;s<r;s++)t+=e[s].name+"="+e[s].val,s<r&&(t+="&");for(r=i.length,s=0;s<r;s++)t+=i[s].name+"="+i[s].val,s<r-1&&(t+="&");return t}},{key:"toObject",value:function(){var t={};return Util.each(this.data,function(e,i){t[e]=""===i.val||isNaN(i.val)?t[e]=i.val:parseInt(i.val)}),t}},{key:"toValue",value:function(){var t=null;return Util.each(this.data,function(e,i){t=isNaN(i.val)?i.val:parseInt(i.val)}),t}}]),t}(),Form=function(t){function e(t){var i;_classCallCheck(this,e);var r={useTemplate:!0,getRequest:null,submitUrl:"",submitRequest:null,serializeMode:FormSerializer.serializeMode.toString,checkboxMode:FormSerializer.checkboxMode.number,excluded:[":disabled"],formGroupManager:FormGroupManager,feedback:!0,feedbackCloseable:!0,feedbackSuccess:"Submission successful",feedbackFail:"Submission failed",struct:{$wrapper:"form",$feedback:".form-feedback",$header:".form-header",$body:".form-body",$footer:".form-footer",$cancel:".form-cancel",$reset:".form-reset",$submit:'button[type="submit"]'},validator:null},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t,"replace"))),a=s;s._serializedData={};var n=s.$wrapper.find("form");return s.$form=n.length>0?n:s.$wrapper,s.formSerializer=new FormSerializer({serializeMode:s.settings.serializeMode,checkboxMode:s.settings.checkboxMode,excluded:s.settings.excluded}),s.validator=null,s.feedback=null,s.formGroupManager=new s.settings.formGroupManager({$wrapper:s.$body}),s.$form.off("submit").on("submit",function(t){t.preventDefault(),a.serializeForm()._submit()}),s.$cancel.click(function(){a.resetForm()}),s.$reset.click(function(){a.resetForm()}),s.settings.validator&&s._setupValidator(),s.settings.feedback&&s._setupFeedback(),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<form class="form"><div class="form-feedback"></div><div class="form-header"></div><div class="form-body"></div><div class="form-footer"><button type="submit" class="form-submit">Submit</button><button type="button" class="form-reset">Reset</button><button type="button" class="form-cancel">Cancel</button></div></form>';return this._useTemplate($(t)),this}},{key:"_setupValidator",value:function(){var t=this.settings.validator;switch(t.api){case"formValidation":e.validators.formValidation.setup(this,this.$form,t.options);break;case"formValidationBootstrap4":e.validators.formValidationBootstrap4.setup(this,this.$form,t.options)}return this}},{key:"_setupFeedback",value:function(){return this.feedback=new Feedback({closeButton:this.settings.feedbackCloseable}),this.$feedback.length||(this.$feedback=$('<div class="form-feedback"></div>'),this.$form.prepend(this.$feedback)),this.$feedback.html(this.feedback.$wrapper),this}},{key:"_prepare",value:function(){return this.toggleForm(!1),this.feedback.show(),this.feedback.setFeedback("processing","Getting data..."),this}},{key:"build",value:function(t){return this.formGoupManager.empty().build(t),this}},{key:"_ready",value:function(){return this.feedback.slideUp(),this.slideToggleForm(!0),this}},{key:"_submit",value:function(){var t=this;return this.trigger("beforeSubmit",this),this.feedback&&this.feedback.setFeedback("processing","Processing..."),this._doSubmit().done(function(e){t._done(e)}).fail(function(e){t._fail(e)}).always(function(){t._always()})}},{key:"_doSubmit",value:function(){return this.settings.submitRequest?this.settings.submitRequest(this._serializedData):$.post(this.settings.submitUrl,this._serializedData)}},{key:"_done",value:function(t){return this.feedback&&this.feedback.setFeedback("success",this.settings.feedbackSuccess),this.trigger("done",t),this}},{key:"_fail",value:function(t){return this.feedback&&this.feedback.setFeedback("danger",this.settings.feedbackFail),this.trigger("fail",t),this}},{key:"_always",value:function(){return this.toggleButtons(!0),this.trigger("always"),this}},{key:"_getFormData",value:function(){return this.settings.getRequest?this.settings.getRequest():$.Deferred().resolve({}).promise()}},{key:"toggleButtons",value:function(t){return this.$cancel.prop("disabled",!t),this.$reset.prop("disabled",!t),this.$submit.prop("disabled",!t).toggleClass("disabled",!t),this}},{key:"lockSubmit",value:function(t){function e(){if(s>=t)clearInterval(a);else{var e=Math.floor((t-s)/1e3);e=e||1;var n=r+" | "+e;i.$submit.html(n),s+=1e3}}var i=this,r=this.$submit.html();this.$submit.prop("disabled",!0),setTimeout(function(){i.$submit.prop("disabled",!1),i.$submit.html(r)},t);var s=0,a=setInterval(e,1e3);e()}},{key:"toggleForm",value:function(t){return this.$body.toggle(t),this.$footer.toggle(t),this}},{key:"slideToggleForm",value:function(t,e){return this.$body.slideToggleState(t),this.$footer.slideToggleState(t,function(){e&&e()}),this}},{key:"populateForm",value:function(t){return this._cacheData(t),this._processData(t),this.$form.populateChildren(this._processedData),this}},{key:"serializeForm",value:function(){return this._serializedData=this.formSerializer.serialize(this.$form),this}},{key:"appendSerializedData",value:function(){return arguments.length>1?this._serializedData[arguments[0]]=arguments[1]:$.extend(!0,this._serializedData,arguments[0]),this}},{key:"resetForm",value:function(){if($.isEmptyObject(this._processedData)?this.$form[0].reset():this.$form.populateChildren(this._processedData),this.feedback&&this.feedback.slideUp(),this.toggleButtons(!0),this.validator)switch(this.settings.validator.api){case"formValidation":this.validator.resetForm()}return this}},{key:"validate",value:function(){var t=!1;if(this.validator)switch(this.settings.validator.api){case"formValidation":this.validator.resetForm(),this.validator.validateContainer(this.$form),t=this.validator.isValidContainer(this.$form)}return t}},{key:"wipe",value:function(){return this._cachedData={},this._processedData={},this.find("input, select").each(function(t,e){$(e).val("")}),this}},{key:"clean",value:function(){return this._cachedData={},this.resetForm(),this.toggleForm(!0),this}},{key:"initialize",value:function(){return this.clean(),this}},{key:"initializeWithGet",value:function(){var t=this;return this.clean(),this._prepare(),this._getFormData().done(function(e){t.populateForm(e),t._ready()}).fail(function(e){t.feedback.setFeedback("danger",e.msg||"Failed to get data")})}}]),e}(Template);Form.validators={formValidation:{api:"formValidation",options:{framework:"bootstrap",excluded:[":disabled",":hidden",":not(:visible)"],icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"}},setup:function(t,e,i){e.off("submit"),e.data("formValidation")&&e.data("formValidation").destroy(),e.formValidation(i).on("success.form.fv",function(e){e.preventDefault(),t.toggleButtons(!1),t.serializeForm()._submit()}),t.validator=e.data("formValidation")}}},Form.validators.formValidationBootstrap4={api:"formValidation",options:{framework:"bootstrap4",excluded:[":disabled",":hidden",":not(:visible)"],icon:{valid:"fa fa-check",invalid:"fa fa-times",validating:"fa fa-refresh"}},setup:Form.validators.formValidation};var Wizard=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:".wizard",$nav:".nav",$navs:".nav > li",$tabs:".tab-pane",$next:".pager .next",$pager:".pager",$previous:".pager .previous"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.stepCount=s.$tabs.length,s.step=0,s.toggleSubmitButton(1===s.stepCount),s.togglePreviousButton(!1),s.toggleNextButton(s.stepCount>1),s._setHandlers(),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_clearHandlers",value:function(){this.$next.off("click.wizard"),this.$previous.off("click.wizard"),this.$submit.off("click.wizard"),this.$navs.each(function(t,e){$(e).off("click.wizard")})}},{key:"_setHandlers",value:function(){var t=this;return this._clearHandlers(),this.$next.on("click.wizard",function(){t._getNextNav().find("a").click()}),this.$previous.on("click.wizard",function(){t.validateTab(t._getTab(t.step)),t._getPreviousNav().find("a").click()}),this.$submit.on("click.wizard",function(){t.validateAllTabs()}),this.$navs.each(function(e,i){$(i).on("click.wizard",function(){t._setPagination(e);var i=e;if(e>t.step)for(i-=1;i>=0;i--)t.validateTab(t._getTab(i));else if(e<t.step)for(i;i<t.step+1;i++)t.validateTab(t._getTab(i));t.step=e,t._toggleNavInvalid($(this),!1)})}),this}},{key:"_useDefaultTemplate",value:function(){return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_useDefaultTemplate",this).call(this),this.$form=this.$wrapper,this.$wrapper=$('<div class="wizard"></div>'),this.$nav=$('<ul class="nav"></ul>'),this.$tabs=$('<div class="tab-pane"></div>'),this.$pager=$('<ul class="pager"></ul>'),this.$next=$('<li class="next"><a href="#">Next</a></li>'),this.$previous=$('<li class="previous"><a href="#">Previous</a></li>'),this.$pager.append(this.$previous,this.$next,this.$submit),this.$footer.append(this.$pager),this.$form.append(this.$tabs,this.$footer),this.$wrapper.append(this.$nav,this.$form),this}},{key:"_setupValidator",value:function(){var t=this.settings.validator;switch(t.api){case"formValidation":var i=$.extend(!0,{},t.options);i.excluded=[":disabled"],e.validators.formValidation.setup(this,this.$form,i)}return this}},{key:"_setupFeedback",value:function(){return this.feedback=new Feedback,this.$feedback.length||(this.$feedback=$('<div class="form-feedback"></div>'),this.$wrapper.prepend(this.$feedback)),this.$feedback.html(this.feedback.$wrapper),this}},{key:"_setPagination",value:function(t){switch(this.togglePreviousButton(!1),this.toggleNextButton(!1),this.toggleSubmitButton(!1),t){case 0:this.togglePreviousButton(!1),1===this.stepCount?this.toggleSubmitButton():this.stepCount>1&&this.toggleNextButton();break;case this.stepCount-1:this.toggleSubmitButton(),this.stepCount>1&&this.togglePreviousButton();break;default:this.stepCount>1&&(this.toggleNextButton(),this.togglePreviousButton())}}},{key:"_getNav",value:function(t){return $(this.$navs.get(t))}},{key:"_getNavFromTab",value:function(t){var e=this.$tabs.index(t);return this._getNav(e)}},{key:"_getPreviousNav",value:function(){return $(this.$navs.get(this.step-1))}},{key:"_getCurrentNav",value:function(){return $(this.$navs.get(this.step))}},{key:"_getNextNav",value:function(){return $(this.$navs.get(this.step+1))}},{key:"_toggleNavInvalid",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.toggleClass("wizard-tab invalid",e),this}},{key:"_getTab",value:function(t){return $(this.$tabs.get(t))}},{key:"_getCurrentTab",value:function(){return $(this.$tabs.get(this.step))}},{key:"_getNextTab",value:function(){return this.step!==this.stepCount?$(this.$tabs.get(this.step+1)):null}},{key:"_getPreviousTab",value:function(){return this.step>0?$(this.$tabs.get(this.step-1)):null}},{key:"validateTab",value:function(t){var e=this.settings.validator.api,i=!0;switch(e){case"formValidation":this.validator.validateContainer(t),i=this.validator.isValidContainer(t)}var r=this._getNavFromTab(t);return this._toggleNavInvalid(r,!i),i}},{key:"validateCurrentTab",value:function(){var t=this._getCurrentTab();return this.validateTab(t)}},{key:"validatePreviousTab",value:function(){var t=this._getPreviousTab();return this.validateTab(t)}},{key:"validateNextTab",value:function(){var t=this._getNextTab();return this.validateTab(t)}},{key:"validateAllTabs",value:function(){var t=this,e=!0;return $.each(this.$tabs,function(i,r){var s=$(r);t.validator.validateContainer(s);var a=t.validator.isValidContainer(s);t._toggleNavInvalid(t._getNav(i),!a),a||(e=!1)}),e}},{key:"toggleNextButton",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$next.toggle(t),this}},{key:"togglePreviousButton",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$previous.toggle(t),this}},{key:"toggleSubmitButton",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$submit.toggle(t),this}},{key:"toggleForm",value:function(t){return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toggleForm",this).call(this,t),this.$nav.toggle(t),this}},{key:"slideToggleForm",value:function(t){return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"slideToggleForm",this).call(this,t),this.$nav.slideToggleState(t),this}},{key:"resetNavValidation",value:function(){for(var t=0;t<this.$navs.length;t++){var e=$(this.$navs[t]);this._toggleNavInvalid(e,!1)}return this}},{key:"resetForm",value:function(){var t=$(this.$navs[0]);return t.find("a").click(),this.resetNavValidation(),_get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resetForm",this).call(this),this}}]),e}(Form),BOOTSTRAP_VERSION=Number($.fn.tooltip.Constructor.VERSION.split(".")[0]);!function(t){t.fn.inputHelp=function(){return this.each(function(){var e=t(this),i=e.prev(".input-group");i.find(".input-group-addon-help").click(function(){e.slideToggle()})})},t.fn.responsiveTabs=function(){return this.each(function(){var e=t(this);e.addClass("responsive-tabs"),e.append(t('<span class="glyphicon glyphicon-triangle-bottom"></span>')),e.append(t('<span class="glyphicon glyphicon-triangle-top"></span>')),e.on("click","li.active > a, span.glyphicon",function(){this.toggleClass("open")}.bind(e)),e.on("click","li:not(.active) > a",function(){this.removeClass("open")}.bind(e))})}}(jQuery);var BootstrapControlTable=function(t){function e(t){var i;_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i=r,_possibleConstructorReturn(r,i)}return _inherits(e,t),_createClass(e,[{key:"_createDeleteButton",value:function(t){var i=_get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_createDeleteButton",this).call(this,t);return i.addClass("btn btn-default"),i.html('<span class="glyphicon glyphicon-trash"></span>'),i}},{key:"_createUpdateButton",value:function(t){var i=_get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_createUpdateButton",this).call(this,t);return i.addClass("btn btn-default"),i.html('<span class="glyphicon glyphicon-edit"></span>'),i}},{key:"_createViewButton",value:function(t){var i=_get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_createViewButton",this).call(this,t);return i.addClass("btn btn-default"),i.html('<span class="glyphicon glyphicon-info-sign"></span>'),i}}]),e}(ControlTable),BootstrapFeedback=function(t){function e(t){var i;_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),s=r;return r.settings.closeButton&&r.$close.click(function(){s.slideUp()}),i=r,_possibleConstructorReturn(r,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t="",e="",i="",r="",s="";return 4===BOOTSTRAP_VERSION?(e='<div class="feedback alert row v4">',i='<div class="offset-1 col-10">',r='<div class="col-1">',s='<div class="col-12">'):(e='<div class="feedback alert clearfix">',i='<div class="col-xs-offset-1 col-xs-10">',r='<div class="col-xs-1">',s='<div class="col-xs-12">'),t=this.settings.closeButton?e+i+'<div class="feedback-icon"></div><div class="feedback-text"></div></div>'+r+'<button type="button" name="close" class="close">&times;</button></div></div>':'<div class="feedback alert clearfix">'+s+'<div class="feedback-icon"></div><div class="feedback-text"></div></div></div>',this._useTemplate($(t)),this.$wrapper.hide(),this}},{key:"_createDefaultIcon",value:function(t){return"processing"===t?e.icon.processing:'<span class="glyphicon '+e.icon[t]+'"></span>'}},{key:"_setClass",value:function(t){return this.removeClass(function(t,e){return(e.match(/(^|\s)alert-\S+/g)||[]).join(" ")}),"alert-".indexOf(t)===-1&&(t="alert-"+t),this.addClass(t),this}},{key:"_setIcon",value:function(t){return this.$icon.html(t),this}},{key:"_animateFeedback",value:function(t,e,i){var r=i?i:this._createDefaultIcon(t);return this._setClass(t),this.$text.fadeOut(function(){$(this).html(e).fadeIn()}),this.$icon.fadeOut(function(){$(this).html(r).fadeIn()}),this}},{key:"setFeedback",value:function(t,e,i){if(this.is(":hidden")){var r=i?i:this._createDefaultIcon(t);this._setClass(t),this.$text.html(e),this.$icon.html(r),this.slideDown()}else this._animateFeedback(t,e,i);return this}}]),e}(Feedback);BootstrapFeedback.icon={danger:"glyphicon-remove-sign",success:"glyphicon-ok-sign",warning:"glyphicon-exclamation-sign",info:"glyphicon-info-sign",processing:'<div class="cssload-container"><div class="cssload-speeding-wheel"></div></div>'};var BootstrapFormGroup=function(t){function e(t){var i;_classCallCheck(this,e);var r={formInput:BootstrapFormInput,formSelect:BootstrapFormSelect},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="form-group row"><label class="col-sm-4 control-label"></label><div class="col-sm-8 form-input-wrapper"></div></div>';this._useTemplate(t)}}]),e}(FormGroup),BootstrapFormGroupManager=function(t){function e(t){var i;_classCallCheck(this,e);var r={template:BootstrapFormGroup},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),e}(FormGroupManager),BootstrapFormInput=function(t){function e(t,i){var r;_classCallCheck(this,e);var s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r=s,_possibleConstructorReturn(s,r)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t=$("<"+this.tag+' class="form-input form-control"/>');return this._useTemplate(t),this}}]),e}(FormInput),BootstrapFormSelect=function(t){function e(t,i){var r;_classCallCheck(this,e);var s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return r=s,_possibleConstructorReturn(s,r)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t=$('<select class="form-input form-control"></select>');return this._useTemplate(t),this}}]),e}(FormSelect),BootstrapForm=function(t){function e(t){var i;_classCallCheck(this,e);var r={formGroupManager:BootstrapFormGroupManager},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t,"replace")));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_setupFeedback",value:function(){return this.feedback=new BootstrapFeedback({closeButton:this.settings.feedbackCloseable}),this.$feedback.length||(this.$feedback=$('<div class="form-feedback"></div>'),this.$form.prepend(this.$feedback)),this.$feedback.html(this.feedback.$wrapper),this}}]),e}(Form),BootstrapModal=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:".modal",$dialog:".modal-dialog",$content:".modal-content",$header:".modal-header",$title:".modal-title",$body:".modal-body",$footer:".modal-footer",$close:"button.close"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="modal fade"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title"></h4></div><div class="modal-body"></div><div class="modal-footer"></div></div></div></div>';return this._useTemplate($(t)),$("body").append(this.$wrapper),this}}]),e}(Template),BootstrapModalForm=function(t){function e(t){var i;_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.form=null,i=r,_possibleConstructorReturn(r,i)}return _inherits(e,t),_createClass(e,[{key:"_createForm",value:function(){throw new Error("BootstrapModalForm._createForm: must be implemented in child class")}},{key:"_attachFormHandlers",value:function(){var t=this;return this.form.off("beforeSubmit.template done.template fail.template").on("beforeSubmit.template",function(){t.form.slideToggleForm(!1)}).on("done.template",function(){setTimeout(function(){t.modal("hide")},1500)}).on("fail.template",function(){t.form.slideToggleForm(!0),t.form.toggleButtons(!0)}),this}},{key:"populateForm",value:function(t){return this.form.populateForm(t),this}},{key:"_onCreateForm",value:function(){return this._attachFormHandlers(),this.form.initialize(),this.modal("show"),this}},{key:"initialize",value:function(){return this._createForm()._onCreateForm()}}]),e}(BootstrapModal),BootstrapNav=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:"li",$link:"a"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#"></a></li>';return this._useTemplate($(t)),this}},{key:"populateChildren",value:function(t){return this.$link.attr("href","#"+t.href),t.html&&this.$link.html(t.html),this}},{key:"setActive",value:function(){return this.$link.click(),this}}]),e}(Template),BootstrapNavManager=function(t){function e(t){var i;_classCallCheck(this,e);var r={$wrapper:$('<ul class="nav nav-tabs"></ul>'),template:BootstrapNav},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.navs=s.objects,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_create",value:function(t,i){if(isDefined(i)&&isDefined(i.href))return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_create",this).call(this,t,i);throw new ReferenceError("BootstrapNavManager.create: an 'href' property is required to create a Nav")}},{key:"getFirst",value:function(){return $(this.$wrapper.find("a").get(0))}}]),e}(TemplateManager),BootstrapPanel=function(t){function e(t){var i;_classCallCheck(this,e);var r={closeable:!1,collapsible:!1,struct:{$wrapper:".panel",$header:".panel-heading",$title:".panel-title",$collapse:".panel-collapse",$close:".panel-close",$body:".panel-body",$content:".panel-content",$footer:".panel-footer"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.isCollapsed=!1,s.isClosed=!1,s._attachHandlers(),i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="panel panel-default"><div class="panel-heading clearfix"><h4 class="panel-title"></h4><a href="#" class="close panel-close" aria-label="close">&times;</a><a href="#" class="panel-collapse glyphicon glyphicon-chevron-up" aria-label="collapse"></a></div><div class="panel-content collapse in"><div class="panel-body"></div></div><div class="panel-footer"></div></div>';return this._useTemplate($(t)),this.settings.closeable||this.$close.remove(),this.settings.collapsible||this.$collapse.remove(),this}},{key:"_attachHandlers",value:function(){return this.settings.closeable&&this.$close.click(function(t){t.stopPropagation(),self._onClose(),self.trigger("close")}),this.settings.collapsible&&this.$header.click(function(){self._collapse(),self.trigger("collapse")}),this}},{key:"_collapse",value:function(){return this.isCollapsed=!this.isCollapsed,this.$content.collapse("toggle"),this.$collapse.toggleClass("glyphicon-chevron-up glyphicon-chevron-down"),this}},{key:"_onClose",value:function(){return this.isClosed=!this.isClosed,this.slideUp(),this}}]),e}(Template),BootstrapPanelManager=function(t){function e(t){var i;_classCallCheck(this,e);var r={$wrapper:$('<div class="panel-group"></div>'),template:BootstrapPanel},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.panels=s.objects,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),e}(TemplateManager),BootstrapCard=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:".card",$header:".card-header",$headerText:".card-header-text",$close:".card-close",$collapse:".card-collapse",$content:".card-content",$block:".card-block",$title:".card-title",$text:".card-text",$footer:".card-footer"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="card"><h3 class="card-header clearfix"><span class="card-header-text"></span><a href="#" class="close card-close" aria-label="close">&times;</a><a href="#" class="card-collapse" aria-label="collapse"></a></h3><div class="card-content collapse in"><div class="card-block"><h4 class="card-title"></h4><p class="card-text"></p></div></div><div class="card-footer"></div></div>';return this._useTemplate($(t)),this.settings.closeable||this.$close.remove(),this.settings.collapsible||this.$collapse.remove(),this}},{key:"_collapse",value:function(){return this.isCollapsed=!this.isCollapsed,this.$content.collapse("toggle"),this}}]),e}(BootstrapPanel),BootstrapCardManager=function(t){function e(t){var i;_classCallCheck(this,e);var r={$wrapper:$('<div class="card-group"></div>'),template:BootstrapCard},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.cards=s.objects,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),e}(TemplateManager),BootstrapProgress=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:".progress-wrapper",$progress:".progress",$bar:".progress-bar",$percent:".progress-percent"},showPercent:!0},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.percent=0,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="progress-wrapper"><div class="progress"><div class="progress-bar"></div><div class="progress-percent"></div></div></div>';return this._useTemplate($(t)),this.settings.showPercent||this.$percent.remove(),this}},{key:"_setPercent",value:function(t){return this.percent=Math.floor(t),this.$percent.html(t+"%"),this.$percent.toggleClass("progress-percent-white",t>50),this}},{key:"setProgress",value:function(t){return t=Math.floor(t),this.$bar.css("width",t+"%"),this.$bar.toggleClass("progress-bar-success",100===t),this.settings.showPercent&&this._setPercent(t),this}}]),e}(Template),BootstrapLoader=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:".loader",$container:".loader-container",$text:".loader-text"},steps:[]},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.stepCount=s.settings.steps.length,s.step=0,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){var t='<div class="loader" id="pageLoader"><div class="loader-container"><div class="loader-text"></div><div class="progress"><div class="progress-bar"></div><div class="progress-percent"></div></div></div></div>';
return this._useTemplate($(t)),this}},{key:"_getStep",value:function(t){if(this.settings.steps.length>0&&this.settings.steps[t])return this.settings.steps[t];throw new RangeError("BootstrapLoader.getStep: step not found in steps array")}},{key:"getPercent",value:function(t){return(t+1)/this.stepCount*100}},{key:"setProgress",value:function(t){return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setProgress",this).call(this,t),this.$text.toggleClass("success",100===t),this}},{key:"setText",value:function(t){return this.$text.html(t),this}},{key:"setStep",value:function(t){this.step=t;var e=this._getStep(t),i=this.getPercent(t);return this.setText(e.text),this.setProgress(i),this}},{key:"setErr",value:function(){var t,e=arguments?arguments[0]:null;return isNumber(e)&&(t=this._getStep(e),this.setText(t.err)),isString(e)&&this.setText(e),isJquery(e)&&this.setText(e),isNull(e)&&(t=this._getStep(this.step),this.setText(t.err)),this.$text.addClass("err"),this.$bar.addClass("progress-bar-danger"),this}},{key:"goStart",value:function(){return this.setStep(0),this}},{key:"goNext",value:function(){var t=this.step+1;return this.setStep(t),this}},{key:"goPrev",value:function(){var t=this.step-1;return t>0&&this.setStep(t),this}},{key:"goEnd",value:function(){var t=this.stepCount-1;return this.setStep(t),this}}]),e}(BootstrapProgress),BootstrapTab=function(t){function e(t){var i;_classCallCheck(this,e);var r={struct:{$wrapper:".tab-pane"}},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){return this.$wrapper=$('<div class="tab-pane fade"></div>'),this}},{key:"populateChildren",value:function(t){return this.attr("id",t.id),t.html&&this.html(t.html),this}}]),e}(Template),BootstrapTabManager=function(t){function e(t){var i;_classCallCheck(this,e);var r={$wrapper:$('<div class="tab-content"></div>'),template:BootstrapTab},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.tabs=s.objects,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_create",value:function(t,i){if(isDefined(i)&&isDefined(i.id))return _get2(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_create",this).call(this,t,i);throw new ReferenceError("BootstrapTabManager.create: an 'id' property is required to create a Tab")}},{key:"getFirst",value:function(){return $(this.$wrapper.find(".tab-pane").get(0))}}]),e}(TemplateManager),BootstrapToggle=function(t){function e(t){var i;if(_classCallCheck(this,e),!isDefined($.fn.bootstrapToggle))throw new Error("BootstrapToggle.constructor: the bootstrap toggle file must be included before bootstrap.");var r={struct:{$container:".toggle",$wrapper:"input"},toggleOptions:{},name:""},s=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$Util.opts(r,t)));return s.after=s._after,s.append=s._append,s.appendTo=s._appendTo,s.before=s._before,s.prepend=s._prepend,s.prependTo=s._prependTo,i=s,_possibleConstructorReturn(s,i)}return _inherits(e,t),_createClass(e,[{key:"_useDefaultTemplate",value:function(){return this.$wrapper=$('<input type="checkbox" name="'+this.settings.name+'"/>"').appendTo("body").bootstrapToggle(this.settings.toggleOptions),this.$container=this.$wrapper.parent(),this}},{key:"_after",value:function(){var t;return(t=this.$container).after.apply(t,arguments),this}},{key:"_append",value:function(){var t;return(t=this.$container).append.apply(t,arguments),this}},{key:"_appendTo",value:function(){var t;return(t=this.$container).appendTo.apply(t,arguments),this}},{key:"_before",value:function(){var t;return(t=this.$container).before.apply(t,arguments),this}},{key:"_prepend",value:function(){var t;return(t=this.$container).prepend.apply(t,arguments),this}},{key:"_prependTo",value:function(){var t;return(t=this.$container).prependTo.apply(t,arguments),this}}]),e}(Template),BootstrapWizard=function(t){function e(t){var i;_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i=r,_possibleConstructorReturn(r,i)}return _inherits(e,t),_createClass(e,[{key:"_setupFeedback",value:function(){return this.feedback=new BootstrapFeedback,this.$feedback.length||(this.$feedback=$('<div class="form-feedback"></div>'),this.$wrapper.prepend(this.$feedback)),this.$feedback.html(this.feedback.$wrapper),this}}]),e}(Wizard);